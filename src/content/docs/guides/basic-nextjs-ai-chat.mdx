---
title: Basic Next.js AI Chat
description: A guide in my new Starlight docs site.
---

import { Tabs, TabItem } from '@astrojs/starlight/components'
import { Steps } from '@astrojs/starlight/components';
import { Code } from '@astrojs/starlight/components';

import invsyClient from '../../../../fixtures/basic-nextjs-ai-chat/src/libs/invsy.js?raw';
import rootPage from '../../../../fixtures/basic-nextjs-ai-chat/src/app/page.js?raw';
import chatUi from '../../../../fixtures/basic-nextjs-ai-chat/src/components/chat-ui.js?raw';
import chatPage from '../../../../fixtures/basic-nextjs-ai-chat/src/app/[chat_id]/page.js?raw';
import chatApi from '../../../../fixtures/basic-nextjs-ai-chat/src/app/api/chat/[chat_id]/route.js?raw';

*Want to view the full code? Check out the <a href="https://github.com/invsy/invsy-docs/tree/main/fixtures/basic-nextjs-ai-chat" target="_blank">basic-nextjs-ai-chat</a> repository on GitHub.*

<Steps>
1. ### Create a new Next.js project
    Next.js recommends <a href="https://nextjs.org/docs/getting-started/installation" target="_blank">starting a new Next.js</a> app using `create-next-app`, which sets up everything automatically for you. To create a project, run:

    ```shell
    npx create-next-app@latest
    ```

    Accept all the defaults.

2. ### Environment Variables
    Create `.env.local` file in the root of your project and add the following variables:


    ```text
    OPENAI_API_KEY=xxxxxx

    INVSY_API_KEY=xxxxxx
    INVSY_PROJECT_ID=xxxxxx
   ```

    Get your Invsy secret key and project ID from the <a href="https://dash.invsy.com" target="_blank">Invsy dashboard</a>

3. ### Install packages & create the Invsy instance
    Install the `invsy`, `ai` and `@ai-sdk/openai` SDKs by running:

    <Tabs>

        <TabItem label="npm" icon="seti:npm">
            ```sh
            npm add invsy ai @ai-sdk/openai
            ```
        </TabItem>

        <TabItem label="pnpm" icon="pnpm">
            ```sh
            pnpm add invsy ai @ai-sdk/openai
            ```
        </TabItem>

        <TabItem label="Yarn" icon="seti:yarn">
            ```sh
            yarn add invsy ai @ai-sdk/openai
            ```
        </TabItem>

    </Tabs>


    Then create the Invsy instance in a new file `./src/libs/invsy.ts`:
    <Code code={invsyClient} lang="ts" />

4. ### Update the root page
    Replace the contents of `./src/page.tsx` with the following code:
    <Code code={rootPage} lang="ts" />

5. ### Create the `ChatUI` component
    <Code code={chatUi} lang="ts" />

6. ### Create the chat page
    Create a new file `./src/app/[chat_id]/page.tsx` and add the following code:
    <Code code={chatPage} lang="ts" />

7. ### Create the chat API
    Create a new file `./src/app/api/chat/[chat_id]/route.ts` and add the following code:
    <Code code={chatApi} lang="ts" />
</Steps>

Run `npm run dev` and navigate to `http://localhost:3000` in your browser. Add a prompt in the input field and click submit. You should see the AI response in the chat window.

Refresh the page and you should see the chat history!

**Congradulations!** You have successfully created a basic AI chat app using Next.js and Invsy. You can now customize the chat UI and add more features to your app.
